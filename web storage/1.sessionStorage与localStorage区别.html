<!DOCTYPE html>   
<html>   
<head>   
<meta charset="utf-8">   
<title>sessionStorage与localStorage区别</title>    
</head>   

<body> 
    <h1 align="center">计数器</h1>  
    <p class="message" id="message_1"></p>   
    <p class="form_item">
        <label>要保存的数据：</label>
        <input type="text" name="text-1" id="text-1"/>
    </p>   
    <p class="form_item">   
        <input type="button" name="button-1" value="session保存" id="button-1">   
        <input type="button" name="button-2" value="session读取" id="button-2">   
    </p>   
    <p class="form_item">   
        <input type="button" name="button-3" value="local保存" id="button-3">   
        <input type="button" name="button-4" value="local读取" id="button-4">   
    </p>   
    <p class="count_wrap">
        访问计数（用session保存）：<span class="count" id="session_count"></span>&nbsp;&nbsp;
        访问计数（用local保存）：<span class="count" id="local_count"></span>
    </p>   
    <script>   
    function get_element(element){  
        return document.getElementById(element);   //返回并调用document对象的getElementById方法输出变量
    }

    var text_1 = get_element('text-1');
    var message = get_element('message_1');
    var button_1 = get_element('button-1');   
    var button_2 = get_element('button-2');   
    var button_3 = get_element('button-3'); 
    var button_4 = get_element('button-4');

    button_1.onclick = saveSessionStorage;   
    button_2.onclick = loadSessionStorage;   
    button_3.onclick = saveLocalStorage;   
    button_4.onclick = loadLocalStorage;   
           
    function saveSessionStorage(){   
    sessionStorage.setItem('message',text_1.value + ' in session');   
    }

    function loadSessionStorage(){   
    message.innerHTML = sessionStorage.getItem('message');   
    }

    function saveLocalStorage(){   
    localStorage.setItem('message',text_1.value + ' in local');   
    }

    function loadLocalStorage(){   
    message.innerHTML = localStorage.getItem('message');   
    }

    //记录页面次数   
    var local_count = localStorage.getItem('a_count')?localStorage.getItem('a_count'):0;   
    get_element('local_count').innerHTML = local_count;   
    localStorage.setItem('a_count',+local_count+1);   
       
    var session_count = sessionStorage.getItem('a_count')?sessionStorage.getItem('a_count'):0;   
    get_element('session_count').innerHTML = session_count;   
    sessionStorage.setItem('a_count',+session_count+1);   
    
    </script>   
</body>   
</html> 