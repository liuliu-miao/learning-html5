<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>读取图片实现图片的预览</title>
<style>
	#preview {
		color:red;
	}
</style>
<script>
    function initial()
    {
        var file = document.getElementById('file').files[0];
        var preview = document.getElementById("preview");
        if (typeof FileReader == 'undefined') {
            preview.innerHTML = "<p" + " align='center'>抱歉，您的浏览器不支持FileReader</p" + '>';
            file.setAttribute('disabled', 'disabled');
        }
    }
	function read_image()
	{
		var file = document.getElementById("file").files[0];
    	if(!/image\/\w+/.test(file.type))
		    preview.innerHTML="<p"+" align='center'>请确保文件为图像类型</p"+'>';
		else
		{
		    var reader = new FileReader();
		    reader.readAsDataURL(file);
		    reader.onload=function()
		    {
		        preview.innerHTML = '<img src="' + this.result + '" alt=""/' + '/>';
		    }
		}
		
	}
</script>
</head>

<body onload="initial();">
	<p align="center">
    选择图像文件：
    <input type="file" id="file">
    <input type="button" onClick="read_image();" value="上传">
    </p>
	<section align="center">
    	<h1>
        	<font color="blue">图像预览</font>
        </h1>
        <span id="preview"></span>
    </section>
</body>
</html>
